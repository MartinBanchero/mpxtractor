---
title: "Untitled"
author: "Martin"
date: "5/11/2020"
output: html_document
---

```{r setup, include=FALSE}
library(mpxtractor)
knitr::opts_chunk$set(echo = TRUE)
```



```{r}
#get the path to file
file_layout <- system.file(
  "extdata", "test_multiscanGO_layout1.csv",
  package = "mpxtractor"
)

file1 <- system.file("extdata", "test_multiscango_data_1.txt", package = "mpxtractor")

file2 <- system.file("extdata", "test_multiscango_data_2.txt", package = "mpxtractor")

df_two_files <- mpxtractor::read_multiple_data_files(
  reader_type = "multiscango", 
  time_point = "2 min", 
  filesname = c(file1,file2), 
  plate_names = c("plate_1", "plate_2") 
  )

df_combine <- mpxtractor::combine_data_with_layout(
  df_data = df_two_files, 
  reader_type = "multiscango", 
  layout_files = file_layout
  )

tail(df_combine)
```

```{r}
mpxtractor::plot_gr_microplate(df_data = df_combine, var_gr = "Measurement", ws = "2hs", cond_to_col = "presugar", plate_file = "plate_2")



```


```{r}
#get the path to file
file_layout <- system.file(
  "extdata", "test_spectraMax_layout_1.csv",
  package = "mpxtractor"
)

file1 <- system.file("extdata", "test_spectramax_data_1.txt", package = "mpxtractor")

file2 <- system.file("extdata", "test_spectramax_data_2.txt", package = "mpxtractor")

df_two_files <- mpxtractor::read_multiple_data_files(
  reader_type = "spectramax", 
  time_point = "2 min", 
  filesname = c(file1,file2), 
  plate_names = c("plate_1", "plate_2") 
  )

df_combine <- mpxtractor::combine_data_with_layout(
  df_data = df_two_files, 
  reader_type = "spectramax", 
  layout_files = file_layout
  )
tail(df_combine)

```
